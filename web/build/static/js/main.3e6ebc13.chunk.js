(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{131:function(e,t,a){e.exports=a(151)},149:function(e,t,a){},151:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),l=a.n(o),i=a(52),c=a(59);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(15),u=a(193),m=a(194),d=a(187),p=a(195),f=a(109),g=a.n(f),h=a(201),E=a(190),w=a(192),v=Object(d.a)((function(e){return{button:{margin:e.spacing(1)}}}));function b(){var e=v();return r.a.createElement("div",null,r.a.createElement(E.a,{variant:"contained",color:"primary",className:e.button,endIcon:r.a.createElement(w.a,null,"send")},"Send"))}var x=Object(d.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"25ch"}}})),T=Object(s.f)((function(){var e=x();return r.a.createElement("div",{className:e.root},r.a.createElement("div",null,r.a.createElement(h.a,{id:"outlined-margin-none",label:"userName",placeholder:"type..",margin:"normal",InputLabelProps:{shrink:!0},variant:"outlined"}),r.a.createElement(h.a,{id:"outlined-full-width",label:"Tweet",style:{margin:8},placeholder:"type..",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},variant:"outlined"}),r.a.createElement(b,null)))})),y=Object(d.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)}}})),N=Object(s.f)((function(){var e=y();return r.a.createElement("div",{className:e.root},r.a.createElement(u.a,{position:"static"},r.a.createElement(m.a,{variant:"dense"},r.a.createElement(p.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(i.b,{to:"/"},r.a.createElement(g.a,null))))))})),j=a(84),O=a(118),k=a(83),I=a(39),P=a.n(I),_=a(200),$=a(196),C=a(197),L=a(198),M=a(199),W=a(202),S=a(77),B=a(76),R=a(110),A=a.n(R),z=Object(d.a)((function(e){return{root:{maxWidth:345},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:B.a[500]}}})),D=Object(s.f)((function(e){var t=e.item,a=z(),n=t.user.name,o=n.charAt(0),l=t.created,i=t.text;return r.a.createElement($.a,{className:a.root},r.a.createElement(C.a,{avatar:r.a.createElement(W.a,{"aria-label":"recipe",className:a.avatar},o),title:n,subheader:l}),r.a.createElement(L.a,null,r.a.createElement(S.a,{variant:"body2",color:"textSecondary",component:"p"},i)),r.a.createElement(M.a,{disableSpacing:!0},r.a.createElement(p.a,{"aria-label":"add to favorites"},r.a.createElement(A.a,null))))})),F=Object(d.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{width:500,height:450,transform:"translateZ(0)"},icon:{color:"white"}}}));function J(e){var t=e.tweets,a=F(),n=t.listTweet.edges;return r.a.createElement("div",{className:a.root},r.a.createElement(_.a,{cellHeight:200,spacing:1,className:a.gridList},n.map((function(e){var t=e.node;return r.a.createElement(D,{key:t.id,item:t})}))))}var Q=a(111),q=a.n(Q),G=function(){return r.a.createElement("div",{className:"full-page-loader"},r.a.createElement(q.a,{sizeUnit:"px",size:150,color:"#3454D1",loading:!0}))};function H(){var e=Object(k.a)([" \n  mutation AddTweet($id: ID!, $tweetInput: TweetInput!) {\n    addTweet(id: $id, input: $tweetInput) {\n      id\n      text \n      created\n      updaated\n    }\n  }\n"]);return H=function(){return e},e}function U(){var e=Object(k.a)([" \n  query ListTweet($first: Int, $after: String){\n    listTweet(first: $first, after: $after){\n      nextToken\n      pageInfo{\n        hasNextPage\n        endCursor\n      }\n      edges{\n        node{\n          id\n          text\n          userId\n          created\n          updated\n          user{\n            id\n            name\n            created\n            updated\n          }\n        }\n      }\n    }\n  } "]);return U=function(){return e},e}var Z=P()(U()),K=P()(H()),V=Object(d.a)((function(e){return{button:{margin:e.spacing(1)}}}));function X(){var e=V(),t=Object(c.useQuery)(Z,{variables:{first:2},fetchPolicy:"cache-and-network"}),a=t.loading,n=t.error,o=t.data,l=t.fetchMore,i=Object(c.useMutation)(K,{}),s=Object(O.a)(i,2),u=s[0],m=s[1],d=function(e,t){var a=t.fetchMoreResult;return a?(console.log(a.listTweet.edges),{listTweet:{__typename:a.listTweet.__typename,nextToken:a.listTweet.nextToken,pageInfo:{__typename:a.listTweet.pageInfo.__typename,hasNextPage:a.listTweet.pageInfo.hasNextPage,endCursor:a.listTweet.pageInfo.endCursor},edges:[].concat(Object(j.a)(e.listTweet.edges),Object(j.a)(a.listTweet.edges))}}):e};return a?r.a.createElement(G,null):n||m.error?r.a.createElement("p",null,"Eroor ococured!!"):r.a.createElement("div",{className:"page pets-page"},r.a.createElement("section",null,r.a.createElement("div",{className:"row betwee-xs middle-xs"},r.a.createElement("div",{className:"col-xs-10"},r.a.createElement("h1",null,"Tweets")),r.a.createElement("div",{className:"col-xs-2"},r.a.createElement(T,{onSubmit:function(e){u({variables:{newPet:e},optimisticResponse:{__typename:"Mutation",addPet:{__typename:"Pet",id:Math.floor(1e4*Math.random()+""),name:e.name,type:e.type,img:"https://via.placeholder.com/300"}}})}})))),r.a.createElement("section",null,r.a.createElement(J,{tweets:o}),o.listTweet.pageInfo.hasNextPage&&r.a.createElement(E.a,{onClick:function(){return l({variables:{after:o.listTweet.nextToken},updateQuery:d})},variant:"contained",color:"default",className:e.button},"More")))}var Y=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(N,null),r.a.createElement("div",null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:X}))))},ee=a(115),te=a(117),ae=a(116),ne=a(27),re=a(119),oe=new ae.a({uri:"http://localhost:4000/"}),le=Object(re.a)((function(e){return new Promise((function(e,t){setTimeout((function(){e()}),800)}))})),ie=ne.a.from([le,oe]),ce=new te.a,se=new ee.a({link:ie,cache:ce}),ue=(a(149),function(){return r.a.createElement(i.a,null,r.a.createElement(c.ApolloProvider,{client:se},r.a.createElement(Y,null)))});l.a.render(r.a.createElement(ue,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[131,1,2]]]);
//# sourceMappingURL=main.3e6ebc13.chunk.js.map